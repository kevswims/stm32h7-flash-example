name: luci-mpu-flash-algo
variants:
  - name: STM32H7S3L8Hx
    cores:
      - name: main
        type: armv7em
        core_access_options: !Arm
          ap: !v1 1
    memory_map:
      - !Generic
        name: ITCM_RAM
        range:
          start: 0x0
          end: 0x10000
        cores:
          - main
      - !Nvm
        name: Flash
        range:
          start: 0x8000000
          end: 0x8010000
        cores:
          - main
        access:
          write: false
          boot: true
      - !Ram
        name: DTCM_RAM
        range:
          start: 0x20000000
          end: 0x20010000
        cores:
          - main
      - !Ram
        name: AXI_SRAM
        range:
          start: 0x24000000
          end: 0x24072000
        cores:
          - main
      - !Ram
        name: AHB_SRAM
        range:
          start: 0x30000000
          end: 0x30008000
        cores:
          - main
      - !Generic
        name: BKP_SRAM
        range:
          start: 0x38800000
          end: 0x38801000
        cores:
          - main
      - !Nvm
        range:
          start: 0x70000000
          end: 0x72000000
        access:
          boot: true
        cores:
          - main
    flash_algorithms:
      - stm32h7rx_64k
      - flash-algo
flash_algorithms:
  - name: flash-algo
    description: A flash algorithm under test
    cores:
      - main
    default: true
    instructions: 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
    pc_init: 0x0
    pc_uninit: 0x0
    pc_program_page: 0x0
    pc_erase_sector: 0x0
    pc_erase_all: 0x0
    data_section_offset: 0x0
    # load_address: 0x20010000
    flash_properties:
      address_range:
        start: 0x0
        end: 0x0
      page_size: 0x0
      erased_byte_value: 0x0
      program_page_timeout: 0x0
      erase_sector_timeout: 0x0
      sectors:
        - size: 0x0
          address: 0x0
  - name: stm32h7rx_64k
    description: STM32H7Rx_64
    default: true
    instructions: LenwRXK2XUhdSYFiQWlJB/zUAWnJBwPQWklbSkFgQmCCRtD4YALABhbUWEhK9qohQPb/dd/4WMEEHUoQBiMBYCYd7xACYH8hrPEECCNgNWDM+ABwyPgAENr4EADABwLQASC96PCFYrYAIPrnQ0gBaUHwAQEBYQAgcEdytj9IQWnJB/zRPkmBYgFpQfAIAQFhAWlB8CABAWFBackH/NFBaUkH/NQBaSHwCAEBYQAgcEdytjJJwPNDMDFKimJKadIH/NFKaVIH/NQKaQQjA+uAEyL04HAIYQhpGEMIYQhpQPAgAAhhSGnAB/zRSGlAB/zUCGkg8AQACGFIacAHANABIHBH8LVyth1MY2lbB/zUY2nbB/zRGkujYivgAiMjYSApCdMAI/LoAlZbHAQr4OgCVvjbIDkW4AAmA0YVRgXgAL8V+AF7dhwD+AF7jkL408HxIAUAIf8mAuBJHAP4AWuNQvrYACFjaVsH/NRjadsH/NFjagAp0dFitgAg8L0AIABSAAAuHyMBZ0Wrie/NAEgAWAQsAEAAAAAA
    load_address: 0x20000008
    pc_init: 0x1
    pc_uninit: 0x6d
    pc_program_page: 0x103
    pc_erase_sector: 0xb1
    pc_erase_all: 0x7b
    data_section_offset: 0x194
    flash_properties:
      address_range:
        start: 0x8000000
        end: 0x8010000
      page_size: 0x400
      erased_byte_value: 0xff
      program_page_timeout: 400
      erase_sector_timeout: 400
      sectors:
        - size: 0x2000
          address: 0x0
